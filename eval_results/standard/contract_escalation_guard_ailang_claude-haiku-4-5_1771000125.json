{
  "id": "contract_escalation_guard",
  "lang": "ailang",
  "model": "claude-haiku-4-5",
  "seed": 42,
  "input_tokens": 17418,
  "output_tokens": 387,
  "total_tokens": 17805,
  "cost_usd": 0.019353,
  "compile_ok": true,
  "runtime_ok": true,
  "stdout_ok": false,
  "duration_ms": 415,
  "compile_ms": 0,
  "execute_ms": 0,
  "error_category": "logic_error",
  "stdout": "100\n60\n15\n-70\n",
  "expected_stdout": "100\n60\n15\n0\n",
  "timestamp": "2026-02-13T17:28:45.177579+01:00",
  "code": "module benchmark/solution\n\ntype Role = ADMIN | EDITOR | VIEWER | GUEST\ntype Action = READ | WRITE | DELETE\n\npure func roleWeight(role: Role) -\u003e int =\n  match role {\n    ADMIN =\u003e 100,\n    EDITOR =\u003e 60,\n    VIEWER =\u003e 30,\n    GUEST =\u003e 10\n  }\n\npure func actionThreshold(action: Action) -\u003e int =\n  match action {\n    READ =\u003e 10,\n    WRITE =\u003e 50,\n    DELETE =\u003e 80\n  }\n\npure func actionBonus(action: Action) -\u003e int =\n  match action {\n    READ =\u003e 15,\n    WRITE =\u003e 5,\n    DELETE =\u003e 0\n  }\n\nexport func grantedLevel(role: Role, action: Action) -\u003e int ! {}\nensures { result \u003c= roleWeight(role) }\n{\n  let baseLevel = roleWeight(role);\n  let bonus = actionBonus(action);\n  let threshold = actionThreshold(action);\n  let computed = baseLevel + bonus - threshold;\n  if computed \u003e baseLevel then baseLevel else computed\n}\n\nexport func main() -\u003e () ! {IO} {\n  let r1 = grantedLevel(ADMIN, READ);\n  let r2 = grantedLevel(EDITOR, READ);\n  let r3 = grantedLevel(EDITOR, WRITE);\n  let r4 = grantedLevel(GUEST, DELETE);\n  println(show(r1));\n  println(show(r2));\n  println(show(r3));\n  println(show(r4))\n}",
  "first_attempt_ok": false,
  "repair_used": false,
  "repair_ok": false,
  "verify_ok": false,
  "verify_verified": 0,
  "verify_counterexample": 0,
  "verify_skipped": 0,
  "verify_errors": 0,
  "verify_json": "{\n  \"file\": \"/Users/mark/dev/sunholo/demos/.eval_workspace/1771000129613086000_42304/benchmark/solution.ail\",\n  \"check\": {\n    \"passed\": false,\n    \"error_count\": 1,\n    \"errors\": [\n      {\n        \"code\": \"IO_ERROR\",\n        \"message\": \"cannot read file: open /Users/mark/dev/sunholo/demos/.eval_workspace/1771000129613086000_42304/benchmark/solution.ail: no such file or directory\",\n        \"file\": \"/Users/mark/dev/sunholo/demos/.eval_workspace/1771000129613086000_42304/benchmark/solution.ail\"\n      }\n    ]\n  },\n  \"verify\": {\n    \"available\": false,\n    \"verified\": 0,\n    \"counterexample\": 0,\n    \"skipped\": 0,\n    \"errors\": 0,\n    \"results\": []\n  }\n}\n",
  "eval_mode": "standard"
}